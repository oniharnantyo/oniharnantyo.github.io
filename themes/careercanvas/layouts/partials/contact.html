<section id="contact" class="py-12 bg-bg-secondary dark:bg-bg-secondary border-t border-border-primary" data-animate>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="text-3xl font-bold text-center mb-12 font-heading text-text-primary dark:text-text-primary">Let's Connect</h2>

    <div class="flex flex-col lg:flex-row justify-center gap-12">
      <!-- Contact Form -->
      <div class="lg:w-1/2">
        <div class="contact-card bg-bg dark:bg-bg p-8 rounded-lg shadow-lg border border-border-primary dark:border-border-primary card-hover">
          <h3 class="text-xl font-semibold mb-6 text-text-primary dark:text-text-primary">{{ i18n "sendMeAMessage" }}</h3>
          <form id="contact-form" class="space-y-6">
            <div class="flex flex-col sm:flex-row gap-4">
              <div class="flex-1">
                <label for="name" class="block text-sm font-medium text-gray-700 dark:text-text-secondary mb-1">Name</label>
                <input type="text" id="name" name="name" class="w-full px-4 py-2 border border-border-primary dark:border-border-primary rounded-lg focus:ring-primary focus:border-primary dark:bg-bg dark:text-text-primary" required>
              </div>
              <div class="flex-1">
                <label for="email" class="block text-sm font-medium text-gray-700 dark:text-text-secondary mb-1">Email</label>
                <input type="email" id="email" name="email" class="w-full px-4 py-2 border border-border-primary dark:border-border-primary rounded-lg focus:ring-primary focus:border-primary dark:bg-bg dark:text-text-primary" required>
              </div>
            </div>
            <div>
              <label for="subject" class="block text-sm font-medium text-gray-700 dark:text-text-secondary mb-1">Subject</label>
              <input type="text" id="subject" name="subject" class="w-full px-4 py-2 border border-border-primary dark:border-border-primary rounded-lg focus:ring-primary focus:border-primary dark:bg-bg dark:text-text-primary" required>
            </div>
            <div>
              <label for="message" class="block text-sm font-medium text-gray-700 dark:text-text-secondary mb-1">Message</label>
              <textarea id="message" name="message" rows="5" class="w-full px-4 py-2 border border-border-primary dark:border-border-primary rounded-lg focus-ring-primary border-primary dark:bg-bg dark:text-text-primary" required></textarea>
            </div>
                        <div class="text-center">
              <button type="submit" class="bg-gradient-primary text-white px-6 py-3 rounded-lg font-medium shadow-lg button-hover">
                Send Message
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Contact Info -->
      <div class="lg:w-1/2">
        {{ with .Site.GetPage "contact" }}
        <div class="contact-card bg-bg dark:bg-bg p-8 rounded-lg shadow-lg border border-border-primary dark:border-border-primary h-full card-hover">
          <h3 class="text-xl font-semibold mb-6 text-text-primary dark:text-text-primary">{{ i18n "contactInformation" }}</h3>
          <p class="mb-6 text-gray-700 dark:text-text-secondary">{{ .Params.intro }}</p>
          <div class="markdown-content text-gray-700 dark:text-text-secondary">
          {{ .Params.Content | markdownify}}
          </div>
          <div class="space-y-4">
            {{ if .Site.Params.email}}
            <div class="flex items-start">
              <div class="bg-second-lighter dark:bg-second-dark p-3 rounded-full mr-4">
                <i class="fas fa-envelope text-second dark:text-second-light"></i>
              </div>
              <div>
                <h4 class="font-medium text-text-primary dark:text-text-primary">Email</h4>
                <a href="mailto:{{ .Site.Params.email }}" class="text-primary dark:text-white">{{ .Site.Params.email }}</a>
              </div>
            </div>
            {{ end }}

            {{ if .Site.Params.linkedin_url }}
            <div class="flex items-start">
              <div class="bg-primary-lighter dark:bg-primary-dark p-3 rounded-full mr-4">
                <i class="fab fa-linkedin-in text-primary dark:text-primary-light"></i>
              </div>
              <div>
                <h4 class="font-medium text-text-primary dark:text-text-primary">LinkedIn</h4>
                <a href="{{ .Site.Params.linkedin_url }}" target="_blank" class="text-primary dark:text-white">{{ .Site.Params.linkedin_text }}</a>
              </div>
            </div>
            {{ end }}

            {{ if .Site.Params.github_url }}
            <div class="flex items-start">
              <div class="bg-primary-lighter dark:bg-primary-dark p-3 rounded-full mr-4">
                <i class="fab fa-github text-primary dark:text-primary-light"></i>
              </div>
              <div>
                <h4 class="font-medium text-text-primary dark:text-text-primary">GitHub</h4>
                <a href="{{ .Site.Params.github_url }}" target="_blank" class="text-primary dark:text-white">{{ .Site.Params.github_text }}</a>
              </div>
            </div>
            {{ end }}

            {{ if .Site.Params.emergency_contact }}
            <div class="flex items-start">
              <div class="bg-third-lighter dark:bg-third-dark p-3 rounded-full mr-4">
                <i class="fas fa-exclamation-triangle text-third dark:text-third-light"></i>
              </div>
              <div>
                <h4 class="font-medium text-text-primary dark:text-text-primary">{{ i18n "priorityContact" }}</h4>
                <a href="mailto:{{ .Site.Params.emergency_contact }}" class="text-third dark:text-third-light font-medium">{{ .Site.Params.emergency_contact }}</a>
              </div>
            </div>
            {{ end }}

            {{ if .Site.Language.Params.hero_location }}
            <div class="flex items-start">
              <div class="bg-second-lighter dark:bg-second-dark p-3 rounded-full mr-4">
                <i class="fas fa-map-marker-alt text-second dark:text-second-light"></i>
              </div>
              <div>
                <h4 class="font-medium text-text-primary dark:text-text-primary">Location</h4>
                <p class="text-gray-700 dark:text-text-tertiary">{{ .Site.Language.Params.hero_location }}</p>
              </div>
            </div>
            {{ end }}
          </div>

          <div class="mt-8">
            <h4 class="font-medium mb-3 text-text-primary dark:text-text-primary">{{ .Params.collab_title }}</h4>
            <div class="flex flex-wrap gap-2">
              {{ range .Site.Params.collab_tags }}
              <span class="collab-tag px-3 py-1 rounded-full text-sm">{{ . }}</span>
              {{ end }}
            </div>
          </div>
        </div>
        {{ end }}
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const form = document.getElementById('contact-form');

    form.addEventListener('submit', function (e) {
      e.preventDefault();

      const name = document.getElementById('name').value;
      const email = document.getElementById('email').value;
      const subject = document.getElementById('subject').value;
      const message = document.getElementById('message').value;

      const mailtoLink = `mailto:{{ .Site.Params.email }}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent('From: ' + name + ' (' + email + ')\n\n' + message)}`;

      window.location.href = mailtoLink;

      showToast('âœ… Opening your email client...');
      form.reset();
    });

    function showToast(message) {
      const toast = document.createElement('div');
      toast.textContent = message;
              toast.className = 'fixed bottom-6 right-6 bg-second dark:bg-second-light text-white px-4 py-2 rounded shadow-lg';
      document.body.appendChild(toast);

      setTimeout(() => {
        toast.remove();
      }, 4000);
    }
  });
</script>


  
